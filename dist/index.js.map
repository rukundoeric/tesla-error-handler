{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { Component } from 'react'\nexport const withErrorHandler = (WrappedComponent, axios) => class extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      error: null\n    }\n\n    this.resInterceptor = axios.interceptors.response.use(\n      res => res,\n      (error) => {\n        const { response } = error\n        const style = {\n          width: '600px',\n          'min-height': '80vh',\n          margin: '50px auto',\n          background: 'transparent',\n          border: 'none'\n        }\n        let responseError\n\n        switch (response.status) {\n          case 404:\n            responseError = {\n              status: 404,\n              message: (\n                <div className='card not-found-cont' style={style}>\n                  <img src='https://firebasestorage.googleapis.com/v0/b/authorshaven-cebfb.appspot.com/o/images%2FnotFound.svg?alt=media&token=f791a123-c9b5-4278-953e-0d39f5a3fe29' className='card-img-top' alt='Not Found' />\n                  <div className='card-body'>\n                    <h5 className='card-title'>{response.data.message}</h5>\n                  </div>\n                </div>\n              )\n            }\n            this.setState({ error: responseError })\n            break\n          default:\n        }\n      }\n    )\n  }\n\n  render() {\n    const { error } = this.state\n    if (!error) {\n      return <WrappedComponent {...this.props} />\n    }\n    return error.message\n  }\n}\n"],"names":["withErrorHandler","WrappedComponent","axios","props","state","resInterceptor","interceptors","response","use","res","error","style","responseError","status","React","data","message","setState","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IACaA,mBAAmB,SAAnBA,gBAAmB,CAACC,gBAAD,EAAmBC,KAAnB;;;;oBAClBC,KAAZ,EAAmB;;;iHACXA,KADW;;YAEZC,KAAL,GAAa;eACJ;OADT;;YAIKC,cAAL,GAAsBH,MAAMI,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACpB;eAAOC,GAAP;OADoB,EAEpB,UAACC,KAAD,EAAW;YACDH,QADC,GACYG,KADZ,CACDH,QADC;;YAEHI,QAAQ;iBACL,OADK;wBAEE,MAFF;kBAGJ,WAHI;sBAIA,aAJA;kBAKJ;SALV;YAOIC,sBAAJ;;gBAEQL,SAASM,MAAjB;eACO,GAAL;4BACkB;sBACN,GADM;uBAGZC;;kBAAK,WAAU,qBAAf,EAAqC,OAAOH,KAA5C;sDACO,KAAI,yJAAT,EAAmK,WAAU,cAA7K,EAA4L,KAAI,WAAhM,GADF;;;oBAEO,WAAU,WAAf;;;sBACM,WAAU,YAAd;6BAAqCI,IAAT,CAAcC;;;;aANlD;kBAWKC,QAAL,CAAc,EAAEP,OAAOE,aAAT,EAAd;;;;OA1Bc,CAAtB;;;;;;+BAkCO;YACCF,KADD,GACW,KAAKN,KADhB,CACCM,KADD;;YAEH,CAACA,KAAL,EAAY;iBACHI,6BAAC,gBAAD,EAAsB,KAAKX,KAA3B,CAAP;;eAEKO,MAAMM,OAAb;;;;IA9CuEE,eAA3C;CAAzB;;;;"}