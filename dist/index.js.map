{"version":3,"file":"index.js","sources":["../src/index.js"],"sourcesContent":["import React, { Component } from 'react'\nconst withErrorHandler = (WrappedComponent, axios) => class extends Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      error: null\n    }\n\n    this.resInterceptor = axios.interceptors.response.use(\n      res => res,\n      (error) => {\n        const { response } = error\n        const style = {\n          width: '600px',\n          margin: '50px auto',\n          background: 'transparent',\n          border: 'none'\n        }\n        let responseError\n\n        switch (response.status) {\n          case 404:\n            responseError = {\n              status: 404,\n              message: (\n                <div className='card' style={style}>\n                  <img src='./notFound.svg' className='card-img-top' alt='Not Found' />\n                  <div className='card-body'>\n                    <h5 className='card-title'>{response.data.message}</h5>\n                    <a href='/' className='btn btn-primary'>Homepage</a>\n                  </div>\n                </div>\n              )\n            }\n            this.setState({ error: responseError })\n            break\n          default:\n        }\n      }\n    )\n  }\n\n  render() {\n    const { error } = this.state\n    if (!error) {\n      return <WrappedComponent {...this.props} />\n    }\n    return error.message\n  }\n}\n\nexport default withErrorHandler\n"],"names":["withErrorHandler","WrappedComponent","axios","props","state","resInterceptor","interceptors","response","use","res","error","style","responseError","status","React","data","message","setState","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,IAAMA,mBAAmB,SAAnBA,gBAAmB,CAACC,gBAAD,EAAmBC,KAAnB;;;;oBACXC,KAAZ,EAAmB;;;iHACXA,KADW;;YAEZC,KAAL,GAAa;eACJ;OADT;;YAIKC,cAAL,GAAsBH,MAAMI,YAAN,CAAmBC,QAAnB,CAA4BC,GAA5B,CACpB;eAAOC,GAAP;OADoB,EAEpB,UAACC,KAAD,EAAW;YACDH,QADC,GACYG,KADZ,CACDH,QADC;;YAEHI,QAAQ;iBACL,OADK;kBAEJ,WAFI;sBAGA,aAHA;kBAIJ;SAJV;YAMIC,sBAAJ;;gBAEQL,SAASM,MAAjB;eACO,GAAL;4BACkB;sBACN,GADM;uBAGZC;;kBAAK,WAAU,MAAf,EAAsB,OAAOH,KAA7B;sDACO,KAAI,gBAAT,EAA0B,WAAU,cAApC,EAAmD,KAAI,WAAvD,GADF;;;oBAEO,WAAU,WAAf;;;sBACM,WAAU,YAAd;6BAAqCI,IAAT,CAAcC;mBAD5C;;;sBAEK,MAAK,GAAR,EAAY,WAAU,iBAAtB;;;;;aAPR;kBAYKC,QAAL,CAAc,EAAEP,OAAOE,aAAT,EAAd;;;;OA1Bc,CAAtB;;;;;;+BAkCO;YACCF,KADD,GACW,KAAKN,KADhB,CACCM,KADD;;YAEH,CAACA,KAAL,EAAY;iBACHI,6BAAC,gBAAD,EAAsB,KAAKX,KAA3B,CAAP;;eAEKO,MAAMM,OAAb;;;;IA9CgEE,eAA3C;CAAzB;;;;"}